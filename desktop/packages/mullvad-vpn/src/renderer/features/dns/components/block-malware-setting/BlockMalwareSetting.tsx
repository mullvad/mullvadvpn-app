import { messages } from '../../../../../shared/gettext';
import InfoButton from '../../../../components/InfoButton';
import { ModalMessage } from '../../../../components/Modal';
import { FlexRow } from '../../../../lib/components/flex-row';
import { ListItem, ListItemProps } from '../../../../lib/components/list-item';
import { BlockMalwareSwitch } from '../block-malware-switch/BlockMalwareSwitch';

export type BlockMalwareSettingProps = Omit<ListItemProps, 'children'>;

export function BlockMalwareSetting(props: BlockMalwareSettingProps) {
  return (
    <ListItem level={1} {...props}>
      <ListItem.Item>
        <ListItem.Content>
          <BlockMalwareSwitch>
            <FlexRow padding={{ left: 'medium' }}>
              <BlockMalwareSwitch.Label variant="bodySmall">
                {
                  // TRANSLATORS: Label for settings that enables malware blocking.
                  messages.pgettext('vpn-settings-view', 'Malware')
                }
              </BlockMalwareSwitch.Label>
            </FlexRow>
            <ListItem.Group gap="medium">
              <InfoButton>
                <ModalMessage>
                  {messages.pgettext(
                    'vpn-settings-view',
                    'Warning: The malware blocker is not an anti-virus and should not be treated as such, this is just an extra layer of protection.',
                  )}
                </ModalMessage>
              </InfoButton>
              <BlockMalwareSwitch.Trigger>
                <BlockMalwareSwitch.Thumb />
              </BlockMalwareSwitch.Trigger>
            </ListItem.Group>
          </BlockMalwareSwitch>
        </ListItem.Content>
      </ListItem.Item>
    </ListItem>
  );
}
